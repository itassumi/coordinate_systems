# **–õ–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–∞ —Ä–æ–±–æ—Ç–∞: –†–æ–∑—Ä–æ–±–∫–∞ –¥–æ–¥–∞—Ç–∫—É –¥–ª—è –≤—ñ–∑—É–∞–ª—ñ–∑–∞—Ü—ñ—ó –≤–∏–º—ñ—Ä—é–≤–∞–Ω—å —Ä–∞–¥–∞—Ä—É**

## **–†–æ–∑—Ä–æ–±–∫–∞ –¥–æ–¥–∞—Ç–∫—É –¥–ª—è –≤—ñ–∑—É–∞–ª—ñ–∑–∞—Ü—ñ—ó –≤–∏–º—ñ—Ä—é–≤–∞–Ω—å —Ä–∞–¥–∞—Ä—É**

## –û–ø–∏—Å —Ä–æ–±–æ—Ç–∏

–†–æ–∑—Ä–æ–±–∫–∞ –≤–µ–±-–¥–æ–¥–∞—Ç–∫—É –¥–ª—è –≤—ñ–∑—É–∞–ª—ñ–∑–∞—Ü—ñ—ó —Ä–∞–¥–∞—Ä–Ω–∏—Ö –≤–∏–º—ñ—Ä—é–≤–∞–Ω—å —É —Ä–µ–∞–ª—å–Ω–æ–º—É —á–∞—Å—ñ.
–î–æ–¥–∞—Ç–æ–∫ –ø—ñ–¥–∫–ª—é—á–∞—î—Ç—å—Å—è –¥–æ –µ–º—É–ª—è—Ç–æ—Ä–∞ —Ä–∞–¥–∞—Ä—É, –æ—Ç—Ä–∏–º—É—î –¥–∞–Ω—ñ –ø—Ä–æ –≤–∏—è–≤–ª–µ–Ω—ñ —Ü—ñ–ª—ñ —Ç–∞ –≤—ñ–¥–æ–±—Ä–∞–∂–∞—î —ó—Ö –Ω–∞ –≥—Ä–∞—Ñ—ñ–∫—É –≤ –ø–æ–ª—è—Ä–Ω–∏—Ö –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞—Ö.

## –ú–µ—Ç–∞ —Ä–æ–±–æ—Ç–∏

–†–æ–∑—Ä–æ–±–∏—Ç–∏ –¥–æ–¥–∞—Ç–æ–∫, —è–∫–∏–π –∑—á–∏—Ç—É—î –¥–∞–Ω—ñ –∑ –µ–º—É–ª—å–æ–≤–∞–Ω–æ—ó –≤–∏–º—ñ—Ä—é–≤–∞–ª—å–Ω–æ—ó —á–∞—Å—Ç–∏–Ω–∏ —Ä–∞–¥–∞—Ä—É —Ç–∞ –≤—ñ–¥–æ–±—Ä–∞–∂–∞—î –∑–∞–¥–µ—Ç–µ–∫—Ç–æ–≤–∞–Ω—ñ —Ü—ñ–ª—ñ –Ω–∞ –≥—Ä–∞—Ñ—ñ–∫—É –≤ –ø–æ–ª—è—Ä–Ω–∏—Ö –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞—Ö.

## –í–∏–∫–æ–Ω–∞–Ω—ñ –∑–∞–≤–¥–∞–Ω–Ω—è

### 1. –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –µ–º—É–ª—è—Ç–æ—Ä–∞ —Ä–∞–¥–∞—Ä—É

* –ó–∞–ø—É—Å–∫ Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –∑ –µ–º—É–ª—è—Ç–æ—Ä–æ–º –≤–∏–º—ñ—Ä—é–≤–∞–ª—å–Ω–æ—ó —á–∞—Å—Ç–∏–Ω–∏ —Ä–∞–¥–∞—Ä—É
* –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è WebSocket-–∑'—î–¥–Ω–∞–Ω–Ω—è –Ω–∞ –ø–æ—Ä—Ç—ñ 4000
* –ö–æ–Ω—Ñ—ñ–≥—É—Ä—É–≤–∞–Ω–Ω—è –ø–∞—Ä–∞–º–µ—Ç—Ä—ñ–≤ –µ–º—É–ª—è—Ü—ñ—ó —á–µ—Ä–µ–∑ REST API

### 2. –†–æ–∑—Ä–æ–±–∫–∞ –≤–µ–±-—ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É

* –°—Ç–≤–æ—Ä–µ–Ω–Ω—è HTML-—Å—Ç—Ä—É–∫—Ç—É—Ä–∏ –∑ –¥–≤–æ–º–∞ –æ—Å–Ω–æ–≤–Ω–∏–º–∏ –ø–∞–Ω–µ–ª—è–º–∏
* –†–µ–∞–ª—ñ–∑–∞—Ü—ñ—è —Ñ–æ—Ä–º–∏ –∫–µ—Ä—É–≤–∞–Ω–Ω—è –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ —Ä–∞–¥–∞—Ä—É
* –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –≥—Ä–∞—Ñ—ñ–∫—É –¥–ª—è –≤—ñ–∑—É–∞–ª—ñ–∑–∞—Ü—ñ—ó –¥–∞–Ω–∏—Ö —É –ø–æ–ª—è—Ä–Ω–∏—Ö –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞—Ö
* –°—Ç–∏–ª—ñ–∑–∞—Ü—ñ—è —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é CSS

### 3. –†–µ–∞–ª—ñ–∑–∞—Ü—ñ—è –æ–±—Ä–æ–±–∫–∏ –¥–∞–Ω–∏—Ö

* –ü—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –¥–æ WebSocket —Å–µ—Ä–≤–µ—Ä–∞ –µ–º—É–ª—è—Ç–æ—Ä–∞ —Ä–∞–¥–∞—Ä—É
* –û–±—Ä–æ–±–∫–∞ –¥–∞–Ω–∏—Ö —É —Ñ–æ—Ä–º–∞—Ç—ñ JSON —É —Ä–µ–∞–ª—å–Ω–æ–º—É —á–∞—Å—ñ
* –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü—ñ—è —á–∞—Å—É –ø–æ—à–∏—Ä–µ–Ω–Ω—è —Å–∏–≥–Ω–∞–ª—É —É –≤—ñ–¥—Å—Ç–∞–Ω—å
* –ö–æ–ª—å–æ—Ä–æ–≤–∞ –∫–ª–∞—Å–∏—Ñ—ñ–∫–∞—Ü—ñ—è —Ü—ñ–ª–µ–π –∑–∞ –ø–æ—Ç—É–∂–Ω—ñ—Å—Ç—é —Å–∏–≥–Ω–∞–ª—É

### 4. –í—ñ–∑—É–∞–ª—ñ–∑–∞—Ü—ñ—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤

* –í—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è —Ü—ñ–ª–µ–π –Ω–∞ –≥—Ä–∞—Ñ—ñ–∫—É –≤ –ø–æ–ª—è—Ä–Ω–∏—Ö –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞—Ö
* –í—ñ–¥—Å—Ç–∞–Ω—å –Ω–∞ —Ä–∞–¥—ñ–∞–ª—å–Ω—ñ–π –æ—Å—ñ (–∫–º)
* –ê–∑–∏–º—É—Ç –Ω–∞ –∫—É—Ç–æ–≤—ñ–π –æ—Å—ñ (–≥—Ä–∞–¥—É—Å–∏)
* –†—ñ–∑–Ω—ñ –∫–æ–ª—å–æ—Ä–∏ —Ç–æ—á–æ–∫ –∑–∞–ª–µ–∂–Ω–æ –≤—ñ–¥ –ø–æ—Ç—É–∂–Ω–æ—Å—Ç—ñ —Å–∏–≥–Ω–∞–ª—É

## –¢–µ—Ö–Ω—ñ—á–Ω—ñ –¥–µ—Ç–∞–ª—ñ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó

### –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω—ñ —Ç–µ—Ö–Ω–æ–ª–æ–≥—ñ—ó

* **Frontend:** HTML5, CSS3, JavaScript (ES6+)
* **–í—ñ–∑—É–∞–ª—ñ–∑–∞—Ü—ñ—è:** Plotly.js –¥–ª—è –ø–æ–ª—è—Ä–Ω–∏—Ö –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç
* **–ú–∞—Ç–µ–º–∞—Ç–∏—á–Ω—ñ –æ–±—á–∏—Å–ª–µ–Ω–Ω—è:** –í–ª–∞—Å–Ω—ñ –∞–ª–≥–æ—Ä–∏—Ç–º–∏ –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü—ñ—ó
* **–ö–æ–º—É–Ω—ñ–∫–∞—Ü—ñ—è:** WebSocket, REST API
* **–ï–º—É–ª—è—Ü—ñ—è:** Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç—É

```
radar-visualization/
‚îú‚îÄ‚îÄ index.html          # –ì–æ–ª–æ–≤–Ω–∞ —Å—Ç–æ—Ä—ñ–Ω–∫–∞ –¥–æ–¥–∞—Ç–∫—É
‚îú‚îÄ‚îÄ style.css           # –°—Ç–∏–ª—ñ —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É
‚îú‚îÄ‚îÄ script.js           # –õ–æ–≥—ñ–∫–∞ –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è —Ç–∞ –æ–±—Ä–æ–±–∫–∏ –¥–∞–Ω–∏—Ö
‚îî‚îÄ‚îÄ README.md           # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è
```

## –†–µ–∑—É–ª—å—Ç–∞—Ç–∏ —Ä–æ–±–æ—Ç–∏ –¥–æ–¥–∞—Ç–∫—É

### –ü—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –¥–æ –µ–º—É–ª—è—Ç–æ—Ä–∞

```
–°—Ç–∞—Ç—É—Å: ‚úÖ –ü—ñ–¥–∫–ª—é—á–µ–Ω–æ –¥–æ —Ä–∞–¥–∞—Ä—É
WebSocket –ø–æ—Ä—Ç: 4000
–î–∂–µ—Ä–µ–ª–æ –¥–∞–Ω–∏—Ö: Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä radar-emulator
```

### –§–æ—Ä–º–∞—Ç –æ—Ç—Ä–∏–º–∞–Ω–∏—Ö –¥–∞–Ω–∏—Ö

```json
{
  "scanAngle": 90,
  "pulseDuration": 1,
  "echoResponses": [
    {
      "time": 0.000012,
      "power": 0.05
    }
  ]
}
```

### –ê–ª–≥–æ—Ä–∏—Ç–º –æ–±—Ä–æ–±–∫–∏ –¥–∞–Ω–∏—Ö

1. **–û—Ç—Ä–∏–º–∞–Ω–Ω—è –¥–∞–Ω–∏—Ö** —á–µ—Ä–µ–∑ WebSocket –∑ –µ–º—É–ª—è—Ç–æ—Ä–∞
2. **–ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü—ñ—è —á–∞—Å—É —É –≤—ñ–¥—Å—Ç–∞–Ω—å:** 
   ```
   –í—ñ–¥—Å—Ç–∞–Ω—å (–∫–º) = (—à–≤–∏–¥–∫—ñ—Å—Ç—å —Å–≤—ñ—Ç–ª–∞ √ó —á–∞—Å) / 2 / 1000
   R = (300000 √ó t) / 2 / 1000
   ```
3. **–í–∏–∑–Ω–∞—á–µ–Ω–Ω—è –∫–æ–ª—å–æ—Ä—É —Ç–æ—á–∫–∏:**
   - –í–∏—Å–æ–∫–∞ –ø–æ—Ç—É–∂–Ω—ñ—Å—Ç—å (>0.7) ‚Üí –ß–µ—Ä–≤–æ–Ω–∏–π
   - –°–µ—Ä–µ–¥–Ω—è –ø–æ—Ç—É–∂–Ω—ñ—Å—Ç—å (0.3-0.7) ‚Üí –ñ–æ–≤—Ç–∏–π
   - –ù–∏–∑—å–∫–∞ –ø–æ—Ç—É–∂–Ω—ñ—Å—Ç—å (<0.3) ‚Üí –ó–µ–ª–µ–Ω–∏–π

## –ê–Ω–∞–ª—ñ–∑ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤

### –ö–æ—Ä–µ–∫—Ç–Ω—ñ—Å—Ç—å —Ä–æ–±–æ—Ç–∏

* WebSocket –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –ø—Ä–∞—Ü—é—î —Å—Ç–∞–±—ñ–ª—å–Ω–æ
* –î–∞–Ω—ñ –Ω–∞–¥—Ö–æ–¥—è—Ç—å —É —Ä–µ–∞–ª—å–Ω–æ–º—É —á–∞—Å—ñ
* –ì—Ä–∞—Ñ—ñ–∫ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –≤—ñ–¥–æ–±—Ä–∞–∂–∞—î —Ü—ñ–ª—ñ –≤ –ø–æ–ª—è—Ä–Ω–∏—Ö –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞—Ö
* –ö–æ–ª—å–æ—Ä–æ–≤–∞ –¥–∏—Ñ–µ—Ä–µ–Ω—Ü—ñ–∞—Ü—ñ—è –ø—Ä–∞—Ü—é—î –∫–æ—Ä–µ–∫—Ç–Ω–æ

### –ü—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å

* –û–Ω–æ–≤–ª–µ–Ω–Ω—è –≥—Ä–∞—Ñ—ñ–∫—É –≤—ñ–¥–±—É–≤–∞—î—Ç—å—Å—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º—É —á–∞—Å—ñ
* –ü–ª–∞–≤–Ω–∞ —Ä–æ–±–æ—Ç–∞ –Ω–∞–≤—ñ—Ç—å –ø—Ä–∏ –≤–µ–ª–∏–∫—ñ–π –∫—ñ–ª—å–∫–æ—Å—Ç—ñ —Ü—ñ–ª–µ–π
* –ï—Ñ–µ–∫—Ç–∏–≤–Ω–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è —Ä–µ—Å—É—Ä—Å—ñ–≤ –±—Ä–∞—É–∑–µ—Ä–∞

## –í–∏—Å–Ω–æ–≤–∫–∏

1. **WebSocket** —î –æ–ø—Ç–∏–º–∞–ª—å–Ω–∏–º —Ä—ñ—à–µ–Ω–Ω—è–º –¥–ª—è –ø–µ—Ä–µ–¥–∞—á—ñ –¥–∞–Ω–∏—Ö —É —Ä–µ–∞–ª—å–Ω–æ–º—É —á–∞—Å—ñ –≤—ñ–¥ —Ä–∞–¥–∞—Ä–Ω–∏—Ö —Å–∏—Å—Ç–µ–º
2. **–ü–æ–ª—è—Ä–Ω—ñ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∏** —î –ø—Ä–∏—Ä–æ–¥–Ω–∏–º —Ñ–æ—Ä–º–∞—Ç–æ–º –¥–ª—è –≤—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è —Ä–∞–¥–∞—Ä–Ω–∏—Ö –¥–∞–Ω–∏—Ö
3. **Plotly.js** –∑–∞–±–µ–∑–ø–µ—á—É—î –ø–æ—Ç—É–∂–Ω—É —Ç–∞ –≥–Ω—É—á–∫—É –≤—ñ–∑—É–∞–ª—ñ–∑–∞—Ü—ñ—é –Ω–∞—É–∫–æ–≤–∏—Ö –¥–∞–Ω–∏—Ö
4. **Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏** —Å–ø—Ä–æ—â—É—é—Ç—å —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è –µ–º—É–ª—è—Ü—ñ–π–Ω–∏—Ö —Å–∏—Å—Ç–µ–º
5. **–ö–æ–ª—å–æ—Ä–æ–≤–∞ –¥–∏—Ñ–µ—Ä–µ–Ω—Ü—ñ–∞—Ü—ñ—è** –∑–∞ –ø–æ—Ç—É–∂–Ω—ñ—Å—Ç—é —Å–∏–≥–Ω–∞–ª—É –ø–æ–∫—Ä–∞—â—É—î —ñ–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü—ñ—é –¥–∞–Ω–∏—Ö

## –û—Å–æ–±–ª–∏–≤–æ—Å—Ç—ñ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó

### –ú–æ–∂–ª–∏–≤–æ—Å—Ç—ñ –¥–æ–¥–∞—Ç–∫—É:
*  –†–µ–∞–ª—å–Ω–∏–π —á–∞—Å –≤—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è —Ä–∞–¥–∞—Ä–Ω–∏—Ö —Ü—ñ–ª–µ–π
*  –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –ø–∞—Ä–∞–º–µ—Ç—Ä—ñ–≤ —Ä–∞–¥–∞—Ä—É —á–µ—Ä–µ–∑ –≤–µ–±-—ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å
*  –í—ñ–∑—É–∞–ª—å–Ω–∞ –∫–ª–∞—Å–∏—Ñ—ñ–∫–∞—Ü—ñ—è —Ü—ñ–ª–µ–π –∑–∞ –ø–æ—Ç—É–∂–Ω—ñ—Å—Ç—é —Å–∏–≥–Ω–∞–ª—É
*  –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –ø–µ—Ä–µ–ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –ø—Ä–∏ —Ä–æ–∑—Ä–∏–≤—ñ –∑–≤'—è–∑–∫—É
*  –Ü–Ω—Ñ–æ—Ä–º–∞—Ü—ñ–π–Ω–∞ –ø–∞–Ω–µ–ª—å –∑—ñ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–æ—é

### –ü–∞—Ä–∞–º–µ—Ç—Ä–∏ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó:
* `measurementsPerRotation` - –∫—ñ–ª—å–∫—ñ—Å—Ç—å –≤–∏–º—ñ—Ä—é–≤–∞–Ω—å –Ω–∞ –æ–±–µ—Ä—Ç
* `rotationSpeed` - —à–≤–∏–¥–∫—ñ—Å—Ç—å –æ–±–µ—Ä—Ç–∞–Ω–Ω—è —Ä–∞–¥–∞—Ä—É (RPM)
* `targetSpeed` - —à–≤–∏–¥–∫—ñ—Å—Ç—å —Ä—É—Ö—É —Ü—ñ–ª–µ–π (–∫–º/–≥–æ–¥)

## –í–∏—Å–Ω–æ–≤–æ–∫

–ü—ñ–¥ —á–∞—Å –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–æ—ó —Ä–æ–±–æ—Ç–∏ –±—É–ª–æ —Å—Ç–≤–æ—Ä–µ–Ω–æ –ø–æ–≤–Ω–æ—Ü—ñ–Ω–Ω–∏–π –≤–µ–±-–¥–æ–¥–∞—Ç–æ–∫ –¥–ª—è –≤—ñ–∑—É–∞–ª—ñ–∑–∞—Ü—ñ—ó —Ä–∞–¥–∞—Ä–Ω–∏—Ö –≤–∏–º—ñ—Ä—é–≤–∞–Ω—å —É —Ä–µ–∞–ª—å–Ω–æ–º—É —á–∞—Å—ñ. –†–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–æ –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –¥–æ –µ–º—É–ª—è—Ç–æ—Ä–∞ —Ä–∞–¥–∞—Ä—É —á–µ—Ä–µ–∑ WebSocket, –æ–±—Ä–æ–±–∫—É –¥–∞–Ω–∏—Ö —Ç–∞ —ó—Ö –≤—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è –Ω–∞ –≥—Ä–∞—Ñ—ñ–∫—É –≤ –ø–æ–ª—è—Ä–Ω–∏—Ö –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞—Ö. –î–æ–¥–∞—Ç–æ–∫ –¥–æ–∑–≤–æ–ª—è—î –Ω–µ —Ç—ñ–ª—å–∫–∏ —Å–ø–æ—Å—Ç–µ—Ä—ñ–≥–∞—Ç–∏ –∑–∞ –≤–∏—è–≤–ª–µ–Ω–∏–º–∏ —Ü—ñ–ª—è–º–∏, –∞ –π –∑–º—ñ–Ω—é–≤–∞—Ç–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏ —Ä–æ–±–æ—Ç–∏ —Ä–∞–¥–∞—Ä—É —á–µ—Ä–µ–∑ –∑—Ä—É—á–Ω–∏–π –≤–µ–±-—ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å.

–°–∏—Å—Ç–µ–º–∞ –µ—Ñ–µ–∫—Ç–∏–≤–Ω–æ –¥–µ–º–æ–Ω—Å—Ç—Ä—É—î –ø—Ä–∏–Ω—Ü–∏–ø–∏ —Ä–æ–±–æ—Ç–∏ —Ä–∞–¥–∞—Ä—ñ–≤ —Ç–∞ —ó—Ö –º–æ–∂–ª–∏–≤–æ—Å—Ç—ñ —É –≤–∏—è–≤–ª–µ–Ω–Ω—ñ —Ç–∞ –≤—ñ–¥—Å—Ç–µ–∂–µ–Ω–Ω—ñ –æ–±'—î–∫—Ç—ñ–≤ —É –ø—Ä–æ—Å—Ç–æ—Ä—ñ.

---

##  **–°–∫—Ä—ñ–Ω—à–æ—Ç–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤**

### –°–∫—Ä—ñ–Ω—à–æ—Ç 1: Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –∑–∞–ø—É—â–µ–Ω–∏–π
![Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä](https://github.com/itassumi/coordinate_systems/blob/4461649041545bf15658a9633020e51b7b6b6828/2/1.png)

### –°–∫—Ä—ñ–Ω—à–æ—Ç 2: –í–µ—Å—å —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–æ–¥–∞—Ç–∫—É
![–Ü–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–æ–¥–∞—Ç–∫—É](https://github.com/itassumi/coordinate_systems/blob/4461649041545bf15658a9633020e51b7b6b6828/2/2.png)

### –°–∫—Ä—ñ–Ω—à–æ—Ç 3: –ì—Ä–∞—Ñ—ñ–∫ –∑ —Ü—ñ–ª—è–º–∏ –∫—Ä—É–ø–Ω–∏–º –ø–ª–∞–Ω–æ–º
![–ì—Ä–∞—Ñ—ñ–∫ —Ä–∞–¥–∞—Ä—É](https://github.com/itassumi/coordinate_systems/blob/4461649041545bf15658a9633020e51b7b6b6828/2/3.png)

### –°–∫—Ä—ñ–Ω—à–æ—Ç 4: –ö–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ (–ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è WebSocket)
![–ö–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞](https://github.com/itassumi/coordinate_systems/blob/4461649041545bf15658a9633020e51b7b6b6828/2/4.png)

### –°–∫—Ä—ñ–Ω—à–æ—Ç 5: –ó–º—ñ–Ω–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä—ñ–≤ —Ä–∞–¥–∞—Ä—É
![–ó–º—ñ–Ω–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä—ñ–≤](https://github.com/itassumi/coordinate_systems/blob/4461649041545bf15658a9633020e51b7b6b6828/2/5.png)

### –°–∫—Ä—ñ–Ω—à–æ—Ç 6: –î–∞–Ω—ñ WebSocket —É –∫–æ–Ω—Å–æ–ª—ñ
![–î–∞–Ω—ñ WebSocket](https://github.com/itassumi/coordinate_systems/blob/4461649041545bf15658a9633020e51b7b6b6828/2/6.png)

### –°–∫—Ä—ñ–Ω—à–æ—Ç 7: –†–µ–∑—É–ª—å—Ç–∞—Ç –æ–Ω–æ–≤–ª–µ–Ω–Ω—è –ø–∞—Ä–∞–º–µ—Ç—Ä—ñ–≤
![–†–µ–∑—É–ª—å—Ç–∞—Ç –æ–Ω–æ–≤–ª–µ–Ω–Ω—è](https://github.com/itassumi/coordinate_systems/blob/4461649041545bf15658a9633020e51b7b6b6828/2/7.png)

---

##  **–§–∞–π–ª–∏ –ø—Ä–æ–µ–∫—Ç—É**

### **index.html** (–ì–æ–ª–æ–≤–Ω–∞ —Å—Ç–æ—Ä—ñ–Ω–∫–∞)
```html
<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üì° –í—ñ–∑—É–∞–ª—ñ–∑–∞—Ü—ñ—è –¥–∞–Ω–∏—Ö —Ä–∞–¥–∞—Ä—É</title>
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>üì° –í—ñ–∑—É–∞–ª—ñ–∑–∞—Ü—ñ—è –≤–∏–º—ñ—Ä—é–≤–∞–Ω—å —Ä–∞–¥–∞—Ä—É</h1>
            <p>–í—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è —Ü—ñ–ª–µ–π —É —Ä–µ–∞–ª—å–Ω–æ–º—É —á–∞—Å—ñ –≤ –ø–æ–ª—è—Ä–Ω–∏—Ö –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞—Ö</p>
        </header>

        <div class="main-content">
            <div class="left-panel">
                <div class="status-box">
                    <h3>üì° –°—Ç–∞—Ç—É—Å –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è</h3>
                    <div id="status">‚è≥ –ü—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –¥–æ —Ä–∞–¥–∞—Ä—É...</div>
                    <button id="connectBtn">üîÑ –ü–µ—Ä–µ–ø—ñ–¥–∫–ª—é—á–∏—Ç–∏</button>
                </div>

                <div class="control-box">
                    <h3>‚öôÔ∏è –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è —Ä–∞–¥–∞—Ä—É</h3>
                    <div class="form-group">
                        <label for="measurementsPerRotation">–í–∏–º—ñ—Ä—é–≤–∞–Ω—å –Ω–∞ –æ–±–µ—Ä—Ç:</label>
                        <input type="number" id="measurementsPerRotation" value="360">
                    </div>
                    <div class="form-group">
                        <label for="rotationSpeed">–®–≤–∏–¥–∫—ñ—Å—Ç—å –æ–±–µ—Ä—Ç–∞–Ω–Ω—è (RPM):</label>
                        <input type="number" id="rotationSpeed" value="60">
                    </div>
                    <div class="form-group">
                        <label for="targetSpeed">–®–≤–∏–¥–∫—ñ—Å—Ç—å —Ü—ñ–ª–µ–π (–∫–º/–≥–æ–¥):</label>
                        <input type="number" id="targetSpeed" value="100">
                    </div>
                    <button id="updateConfigBtn">üíæ –û–Ω–æ–≤–∏—Ç–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏</button>
                </div>

                <div class="info-box">
                    <h3>üìä –û—Å—Ç–∞–Ω–Ω—ñ –¥–∞–Ω—ñ</h3>
                    <p>–ö—ñ–ª—å–∫—ñ—Å—Ç—å —Ü—ñ–ª–µ–π: <span id="targetCount">0</span></p>
                    <p>–û—Å—Ç–∞–Ω–Ω—ñ–π –∫—É—Ç: <span id="lastAngle">-</span>¬∞</p>
                    <p>–û—Å—Ç–∞–Ω–Ω—ñ–π —á–∞—Å: <span id="lastTime">-</span> —Å</p>
                </div>
            </div>

            <div class="right-panel">
                <div id="radarPlot"></div>
                <div class="legend">
                    <div class="legend-title">üé® –ü–æ—Ç—É–∂–Ω—ñ—Å—Ç—å —Å–∏–≥–Ω–∞–ª—É:</div>
                    <div class="legend-items">
                        <div><span class="legend-color high-power"></span> –í–∏—Å–æ–∫–∞ (> 0.7)</div>
                        <div><span class="legend-color medium-power"></span> –°–µ—Ä–µ–¥–Ω—è (0.3-0.7)</div>
                        <div><span class="legend-color low-power"></span> –ù–∏–∑—å–∫–∞ (< 0.3)</div>
                    </div>
                </div>
            </div>
        </div>

        <footer>
            <p>–†–æ–∑—Ä–æ–±–∫–∞ –¥–æ–¥–∞—Ç–∫—É –¥–ª—è –≤—ñ–∑—É–∞–ª—ñ–∑–∞—Ü—ñ—ó –≤–∏–º—ñ—Ä—é–≤–∞–Ω—å —Ä–∞–¥–∞—Ä—É | ¬© 2024</p>
        </footer>
    </div>

    <script src="script.js"></script>
</body>
</html>
```

### **style.css** (–°—Ç–∏–ª—ñ)
```css
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
}

body {
    background: linear-gradient(135deg, #0f2027, #203a43, #2c5364);
    color: #e0e0e0;
    min-height: 100vh;
    padding: 20px;
}

.container {
    max-width: 1400px;
    margin: 0 auto;
    background: rgba(25, 35, 45, 0.85);
    border-radius: 20px;
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
    overflow: hidden;
    padding: 25px;
}

header {
    text-align: center;
    padding: 25px 0;
    border-bottom: 2px solid #00b4d8;
    margin-bottom: 30px;
}

header h1 {
    font-size: 2.8rem;
    color: #00b4d8;
    margin-bottom: 10px;
    text-shadow: 0 0 10px rgba(0, 180, 216, 0.5);
}

header p {
    font-size: 1.2rem;
    color: #90e0ef;
}

.main-content {
    display: flex;
    gap: 30px;
    margin-bottom: 30px;
}

.left-panel {
    flex: 1;
    display: flex;
    flex-direction: column;
    gap: 25px;
}

.right-panel {
    flex: 2;
    background: rgba(15, 25, 35, 0.7);
    border-radius: 15px;
    padding: 20px;
    box-shadow: inset 0 0 15px rgba(0, 0, 0, 0.5);
}

.status-box, .control-box, .info-box {
    background: rgba(30, 45, 60, 0.8);
    padding: 20px;
    border-radius: 15px;
    border-left: 5px solid #00b4d8;
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
}

h3 {
    color: #00b4d8;
    margin-bottom: 15px;
    font-size: 1.4rem;
}

#status {
    padding: 12px;
    border-radius: 10px;
    background: rgba(0, 0, 0, 0.3);
    margin: 15px 0;
    font-weight: bold;
}

button {
    background: linear-gradient(90deg, #0077b6, #0096c7);
    color: white;
    border: none;
    padding: 12px 24px;
    border-radius: 8px;
    cursor: pointer;
    font-size: 1rem;
    font-weight: bold;
    transition: all 0.3s ease;
    width: 100%;
    margin-top: 10px;
}

button:hover {
    background: linear-gradient(90deg, #0096c7, #00b4d8);
    transform: translateY(-2px);
    box-shadow: 0 5px 15px rgba(0, 180, 216, 0.4);
}

.form-group {
    margin-bottom: 15px;
}

label {
    display: block;
    margin-bottom: 5px;
    color: #90e0ef;
}

input {
    width: 100%;
    padding: 10px;
    border-radius: 8px;
    border: 2px solid #0077b6;
    background: rgba(255, 255, 255, 0.1);
    color: white;
    font-size: 1rem;
}

input:focus {
    outline: none;
    border-color: #00b4d8;
}

#radarPlot {
    width: 100%;
    height: 600px;
    background: rgba(10, 20, 30, 0.9);
    border-radius: 10px;
}

.legend {
    margin-top: 20px;
    padding: 15px;
    background: rgba(30, 45, 60, 0.8);
    border-radius: 10px;
}

.legend-title {
    font-weight: bold;
    margin-bottom: 10px;
    color: #00b4d8;
}

.legend-items {
    display: flex;
    justify-content: space-around;
    flex-wrap: wrap;
    gap: 15px;
}

.legend-color {
    display: inline-block;
    width: 20px;
    height: 20px;
    border-radius: 50%;
    margin-right: 8px;
    vertical-align: middle;
}

.high-power {
    background: #ff3333;
    box-shadow: 0 0 10px #ff3333;
}

.medium-power {
    background: #ffaa00;
    box-shadow: 0 0 10px #ffaa00;
}

.low-power {
    background: #33ff33;
    box-shadow: 0 0 10px #33ff33;
}

footer {
    text-align: center;
    padding: 20px;
    border-top: 1px solid #0077b6;
    color: #90e0ef;
    font-size: 0.9rem;
}

@media (max-width: 1100px) {
    .main-content {
        flex-direction: column;
    }
}
```

### **script.js** (–û—Å–Ω–æ–≤–Ω–∏–π –∫–æ–¥)
```javascript
const WS_URL = 'ws://localhost:4000/';
const API_URL = 'http://localhost:4000/config';

let socket = null;
let targets = [];
let isConnected = false;
let mockInterval = null;
let currentAngle = 0;

// –ï–ª–µ–º–µ–Ω—Ç–∏ DOM
const statusEl = document.getElementById('status');
const connectBtn = document.getElementById('connectBtn');
const updateConfigBtn = document.getElementById('updateConfigBtn');
const targetCountEl = document.getElementById('targetCount');
const lastAngleEl = document.getElementById('lastAngle');
const lastTimeEl = document.getElementById('lastTime');

// –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è –≥—Ä–∞—Ñ—ñ–∫–∞
const radarPlot = document.getElementById('radarPlot');
const layout = {
    title: {
        text: 'üì° –†–∞–¥–∞—Ä–Ω–∞ –¥—ñ–∞–≥—Ä–∞–º–∞ —Ü—ñ–ª–µ–π',
        font: { color: '#e0e0e0', size: 20 }
    },
    polar: {
        radialaxis: {
            title: { text: '–í—ñ–¥—Å—Ç–∞–Ω—å (–∫–º)', font: { color: '#e0e0e0' } },
            range: [0, 200],
            tickangle: 0,
            gridcolor: '#555',
            linecolor: '#777',
            tickfont: { color: '#e0e0e0' }
        },
        angularaxis: {
            direction: 'clockwise',
            rotation: 90,
            gridcolor: '#555',
            linecolor: '#777',
            tickfont: { color: '#e0e0e0' }
        },
        bgcolor: 'rgba(10,20,30,0.9)'
    },
    paper_bgcolor: 'rgba(0,0,0,0)',
    plot_bgcolor: 'rgba(0,0,0,0)',
    font: { color: '#e0e0e0', family: 'Arial' },
    showlegend: true,
    legend: {
        x: 1.1,
        y: 1,
        font: { color: '#e0e0e0' },
        bgcolor: 'rgba(30,45,60,0.8)'
    },
    height: 600,
    margin: { t: 50, r: 150, b: 50, l: 50 }
};

const config = {
    displayModeBar: true,
    displaylogo: false,
    responsive: true
};

// –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑—É—î–º–æ –≥—Ä–∞—Ñ—ñ–∫ –∑ –ø–æ—Ä–æ–∂–Ω—ñ–º–∏ –¥–∞–Ω–∏–º–∏
Plotly.newPlot(radarPlot, [], layout, config);

// –§—É–Ω–∫—Ü—ñ—è –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –¥–æ WebSocket
function connectWebSocket() {
    if (socket) {
        socket.close();
    }

    updateStatus('‚è≥ –ü—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –¥–æ —Ä–∞–¥–∞—Ä—É...', 'warning');

    socket = new WebSocket(WS_URL);

    socket.onopen = () => {
        isConnected = true;
        updateStatus('‚úÖ –ü—ñ–¥–∫–ª—é—á–µ–Ω–æ –¥–æ —Ä–∞–¥–∞—Ä—É', 'success');
        console.log('WebSocket –ø—ñ–¥–∫–ª—é—á–µ–Ω–æ');
        
        // –ó—É–ø–∏–Ω–∏—Ç–∏ —Ç–µ—Å—Ç–æ–≤—ñ –¥–∞–Ω—ñ —è–∫—â–æ WebSocket –ø—Ä–∞—Ü—é—î
        if (mockInterval) {
            clearInterval(mockInterval);
            mockInterval = null;
        }
    };

    socket.onmessage = (event) => {
        try {
            const data = JSON.parse(event.data);
            console.group('üì° –î–ê–ù–Ü WEBSOCKET');
            console.log('Raw data:', event.data);
            console.log('Parsed JSON:', data);
            console.log('–ö—É—Ç:', data.scanAngle, '–≥—Ä–∞–¥—É—Å—ñ–≤');
            console.log('–ö—ñ–ª—å–∫—ñ—Å—Ç—å —Ü—ñ–ª–µ–π:', data.echoResponses.length);
            data.echoResponses.forEach((echo, i) => {
                console.log(`–¶—ñ–ª—å ${i+1}:`, `—á–∞—Å=${echo.time}—Å`, `–ø–æ—Ç—É–∂–Ω—ñ—Å—Ç—å=${echo.power}`);
            });
            console.groupEnd();
            processRadarData(data);
        } catch (error) {
            console.error('–ü–æ–º–∏–ª–∫–∞ –ø–∞—Ä—Å–∏–Ω–≥—É –¥–∞–Ω–∏—Ö:', error);
        }
    };

    socket.onclose = () => {
        isConnected = false;
        updateStatus('‚ùå –ó\'—î–¥–Ω–∞–Ω–Ω—è –∑ —Ä–∞–¥–∞—Ä–æ–º –≤—Ç—Ä–∞—á–µ–Ω–æ', 'error');
        console.log('WebSocket –∑\'—î–¥–Ω–∞–Ω–Ω—è –∑–∞–∫—Ä–∏—Ç–æ');
        
        // –Ø–∫—â–æ WebSocket –Ω–µ –ø—Ä–∞—Ü—é—î, –∑–∞–ø—É—Å—Ç–∏—Ç–∏ —Ç–µ—Å—Ç–æ–≤—ñ –¥–∞–Ω—ñ
        setTimeout(() => {
            if (!isConnected && !mockInterval) {
                startMockData();
            }
        }, 2000);
    };

    socket.onerror = (error) => {
        console.error('WebSocket –ø–æ–º–∏–ª–∫–∞:', error);
        updateStatus('‚ùå –ü–æ–º–∏–ª–∫–∞ –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è', 'error');
        
        // –ó–∞–ø—É—Å—Ç–∏—Ç–∏ —Ç–µ—Å—Ç–æ–≤—ñ –¥–∞–Ω—ñ —è–∫—â–æ WebSocket –Ω–µ –ø—Ä–∞—Ü—é—î
        setTimeout(() => {
            if (!isConnected && !mockInterval) {
                startMockData();
            }
        }, 1000);
    };
}

// –ì–µ–Ω–µ—Ä–∞—Ü—ñ—è —Ç–µ—Å—Ç–æ–≤–∏—Ö –¥–∞–Ω–∏—Ö
function startMockData() {
    updateStatus('üîÑ –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å—Å—è —Ç–µ—Å—Ç–æ–≤—ñ –¥–∞–Ω—ñ', 'warning');
    
    if (mockInterval) {
        clearInterval(mockInterval);
    }
    
    // –ì–µ–Ω–µ—Ä—É–≤–∞—Ç–∏ —Ç–µ—Å—Ç–æ–≤—ñ –¥–∞–Ω—ñ –∫–æ–∂–Ω—ñ 300 –º—Å
    mockInterval = setInterval(() => {
        generateMockRadarData();
    }, 300);
    
    // –ü–µ—Ä—à–∞ –≥–µ–Ω–µ—Ä–∞—Ü—ñ—è –≤—ñ–¥—Ä–∞–∑—É
    generateMockRadarData();
}

function generateMockRadarData() {
    // –ì–µ–Ω–µ—Ä—É—î–º–æ –∫—É—Ç, —â–æ –ø–ª–∞–≤–Ω–æ –∑–º—ñ–Ω—é—î—Ç—å—Å—è
    currentAngle = (currentAngle + 5) % 360;
    
    // –°—Ç–≤–æ—Ä—é—î–º–æ —Ñ—ñ–∫—Ç–∏–≤–Ω—ñ –¥–∞–Ω—ñ —Ä–∞–¥–∞—Ä—É
    const mockData = {
        scanAngle: currentAngle,
        pulseDuration: 1,
        echoResponses: []
    };
    
    // –ì–µ–Ω–µ—Ä—É—î–º–æ 2-5 –≤–∏–ø–∞–¥–∫–æ–≤–∏—Ö —Ü—ñ–ª–µ–π
    const numTargets = Math.floor(Math.random() * 4) + 2;
    for (let i = 0; i < numTargets; i++) {
        const time = 0.00005 + Math.random() * 0.00025; // –ß–∞—Å 50-300 –º–∫—Å
        const power = Math.random(); // –ü–æ—Ç—É–∂–Ω—ñ—Å—Ç—å 0-1
        
        mockData.echoResponses.push({
            time: time,
            power: power
        });
    }
    
    console.log('üé≤ –¢–µ—Å—Ç–æ–≤—ñ –¥–∞–Ω—ñ:', mockData);
    processRadarData(mockData);
}

// –û–±—Ä–æ–±–∫–∞ –¥–∞–Ω–∏—Ö —Ä–∞–¥–∞—Ä—É
function processRadarData(data) {
    const angle = data.scanAngle;
    lastAngleEl.textContent = angle.toFixed(1);
    
    if (data.echoResponses.length > 0) {
        lastTimeEl.textContent = data.echoResponses[0].time.toFixed(6);
    }

    // –û—á–∏—Å—Ç–∏—Ç–∏ —Å—Ç–∞—Ä—ñ –¥–∞–Ω—ñ –∫–æ–∂–Ω—ñ 360 –≥—Ä–∞–¥—É—Å—ñ–≤
    if (angle < 5 && targets.length > 50) {
        targets = targets.slice(-20); // –ó–∞–ª–∏—à–∏—Ç–∏ —Ç—ñ–ª—å–∫–∏ –æ—Å—Ç–∞–Ω–Ω—ñ 20
    }

    data.echoResponses.forEach(echo => {
        // –ö–æ–Ω–≤–µ—Ä—Ç—É—î–º–æ —á–∞—Å —É –≤—ñ–¥—Å—Ç–∞–Ω—å (–∫–º): R = c * t / 2
        const distance = (300000 * echo.time) / 2 / 1000; // –≤ –∫–º
        const power = echo.power;

        targets.push({
            angle: angle,
            distance: distance,
            power: power,
            color: getPowerColor(power)
        });
    });

    // –û–±–º–µ–∂–∏—Ç–∏ –∫—ñ–ª—å–∫—ñ—Å—Ç—å —Ç–æ—á–æ–∫ –¥–ª—è –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ
    if (targets.length > 100) {
        targets = targets.slice(-80);
    }

    targetCountEl.textContent = targets.length;
    updatePlot();
}

// –û–Ω–æ–≤–ª–µ–Ω–Ω—è –≥—Ä–∞—Ñ—ñ–∫–∞
function updatePlot() {
    if (targets.length === 0) return;

    // –†–æ–∑–¥—ñ–ª–∏–º–æ —Ç–æ—á–∫–∏ –∑–∞ –∫–æ–ª—å–æ—Ä–∞–º–∏ –¥–ª—è –ª–µ–≥–µ–Ω–¥–∏
    const highPowerTargets = targets.filter(t => t.power > 0.7);
    const mediumPowerTargets = targets.filter(t => t.power > 0.3 && t.power <= 0.7);
    const lowPowerTargets = targets.filter(t => t.power <= 0.3);

    const traces = [];

    // –í–∏—Å–æ–∫—ñ –ø–æ—Ç—É–∂–Ω–æ—Å—Ç—ñ (—á–µ—Ä–≤–æ–Ω—ñ)
    if (highPowerTargets.length > 0) {
        traces.push({
            r: highPowerTargets.map(t => t.distance),
            theta: highPowerTargets.map(t => t.angle),
            mode: 'markers',
            type: 'scatterpolar',
            name: '–í–∏—Å–æ–∫–∞ –ø–æ—Ç—É–∂–Ω—ñ—Å—Ç—å (> 0.7)',
            marker: {
                size: 16,
                color: '#ff3333',
                opacity: 0.9,
                line: {
                    color: '#ffffff',
                    width: 1
                },
                symbol: 'circle'
            }
        });
    }

    // –°–µ—Ä–µ–¥–Ω—ñ –ø–æ—Ç—É–∂–Ω–æ—Å—Ç—ñ (–∂–æ–≤—Ç—ñ)
    if (mediumPowerTargets.length > 0) {
        traces.push({
            r: mediumPowerTargets.map(t => t.distance),
            theta: mediumPowerTargets.map(t => t.angle),
            mode: 'markers',
            type: 'scatterpolar',
            name: '–°–µ—Ä–µ–¥–Ω—è –ø–æ—Ç—É–∂–Ω—ñ—Å—Ç—å (0.3-0.7)',
            marker: {
                size: 12,
                color: '#ffaa00',
                opacity: 0.9,
                line: {
                    color: '#ffffff',
                    width: 1
                },
                symbol: 'circle'
            }
        });
    }

    // –ù–∏–∑—å–∫—ñ –ø–æ—Ç—É–∂–Ω–æ—Å—Ç—ñ (–∑–µ–ª–µ–Ω—ñ)
    if (lowPowerTargets.length > 0) {
        traces.push({
            r: lowPowerTargets.map(t => t.distance),
            theta: lowPowerTargets.map(t => t.angle),
            mode: 'markers',
            type: 'scatterpolar',
            name: '–ù–∏–∑—å–∫–∞ –ø–æ—Ç—É–∂–Ω—ñ—Å—Ç—å (< 0.3)',
            marker: {
                size: 8,
                color: '#33ff33',
                opacity: 0.9,
                line: {
                    color: '#ffffff',
                    width: 1
                },
                symbol: 'circle'
            }
        });
    }

    Plotly.react(radarPlot, traces, layout, config);
}

// –û–Ω–æ–≤–ª–µ–Ω–Ω—è –ø–∞—Ä–∞–º–µ—Ç—Ä—ñ–≤ —Ä–∞–¥–∞—Ä—É —á–µ—Ä–µ–∑ API
async function updateRadarConfig() {
    const configData = {
        measurementsPerRotation: parseInt(document.getElementById('measurementsPerRotation').value) || 360,
        rotationSpeed: parseInt(document.getElementById('rotationSpeed').value) || 60,
        targetSpeed: parseInt(document.getElementById('targetSpeed').value) || 100,
        numberOfTargets: 5,
        emulationZoneSize: 200
    };

    updateStatus('‚è≥ –û–Ω–æ–≤–ª–µ–Ω–Ω—è –ø–∞—Ä–∞–º–µ—Ç—Ä—ñ–≤...', 'warning');

    try {
        const response = await fetch(API_URL, {
            method: 'PUT',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify(configData)
        });

        if (response.ok) {
            updateStatus('‚úÖ –ü–∞—Ä–∞–º–µ—Ç—Ä–∏ –æ–Ω–æ–≤–ª–µ–Ω–æ —É—Å–ø—ñ—à–Ω–æ', 'success');
            console.log('‚öôÔ∏è –ü–∞—Ä–∞–º–µ—Ç—Ä–∏ –æ–Ω–æ–≤–ª–µ–Ω–æ:', configData);
            
            // –û—á–∏—Å—Ç–∏—Ç–∏ –≥—Ä–∞—Ñ—ñ–∫ –ø—Ä–∏ –∑–º—ñ–Ω—ñ –ø–∞—Ä–∞–º–µ—Ç—Ä—ñ–≤
            targets = [];
            updatePlot();
        } else {
            updateStatus('‚ö†Ô∏è API –Ω–µ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î (–≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å—Å—è —Ç–µ—Å—Ç–æ–≤—ñ –¥–∞–Ω—ñ)', 'warning');
            console.warn('API –Ω–µ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î, –ø—Ä–æ–¥–æ–≤–∂—É—é –∑ —Ç–µ—Å—Ç–æ–≤–∏–º–∏ –¥–∞–Ω–∏–º–∏');
        }
    } catch (error) {
        console.error('–ü–æ–º–∏–ª–∫–∞ API:', error);
        updateStatus('üîß API –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–µ (—Ç–µ—Å—Ç–æ–≤—ñ –¥–∞–Ω—ñ)', 'warning');
    }
}

// –î–æ–ø–æ–º—ñ–∂–Ω—ñ —Ñ—É–Ω–∫—Ü—ñ—ó
function getPowerColor(power) {
    if (power > 0.7) return '#ff3333'; // –í–∏—Å–æ–∫–∞
    if (power > 0.3) return '#ffaa00'; // –°–µ—Ä–µ–¥–Ω—è
    return '#33ff33'; // –ù–∏–∑—å–∫–∞
}

function updateStatus(message, type) {
    statusEl.textContent = message;
    statusEl.className = '';
    
    const styles = {
        success: 'color: #33ff33; background: rgba(51, 255, 51, 0.2); padding: 10px; border-radius: 5px;',
        warning: 'color: #ffaa00; background: rgba(255, 170, 0, 0.2); padding: 10px; border-radius: 5px;',
        error: 'color: #ff3333; background: rgba(255, 51, 51, 0.2); padding: 10px; border-radius: 5px;'
    };

    statusEl.style.cssText = styles[type] || '';
}

// –û–±—Ä–æ–±–Ω–∏–∫–∏ –ø–æ–¥—ñ–π
connectBtn.addEventListener('click', () => {
    if (mockInterval) {
        clearInterval(mockInterval);
        mockInterval = null;
    }
    connectWebSocket();
});

updateConfigBtn.addEventListener('click', updateRadarConfig);

// –ó–∞–ø—É—Å–∫ –ø—Ä–∏ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—ñ
document.addEventListener('DOMContentLoaded', () => {
    // –°–ø—Ä–æ–±–∞ –ø—ñ–¥–∫–ª—é—á–∏—Ç–∏—Å—è –¥–æ —Ä–µ–∞–ª—å–Ω–æ–≥–æ WebSocket
    connectWebSocket();
    
    // –Ø–∫—â–æ —á–µ—Ä–µ–∑ 3 —Å–µ–∫—É–Ω–¥–∏ –Ω–µ –ø—ñ–¥–∫–ª—é—á–∏–ª–æ—Å—å, –∑–∞–ø—É—Å—Ç–∏—Ç–∏ —Ç–µ—Å—Ç–æ–≤—ñ –¥–∞–Ω—ñ
    setTimeout(() => {
        if (!isConnected && !mockInterval) {
            startMockData();
        }
    }, 3000);
    
    // –î–æ–¥–∞–º–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü—ñ—ó
    setTimeout(() => {
        if (targets.length === 0) {
            // –Ø–∫—â–æ –≤—Å–µ —â–µ –Ω–µ–º–∞—î –¥–∞–Ω–∏—Ö, –ø—Ä–∏–º—É—Å–æ–≤–æ –≥–µ–Ω–µ—Ä—É—î–º–æ
            startMockData();
        }
    }, 5000);
});
```

